var yt=Object.defineProperty;var Ee=Object.getOwnPropertySymbols;var Je=Object.prototype.hasOwnProperty,Ze=Object.prototype.propertyIsEnumerable;var He=(t,e,o)=>e in t?yt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,Qe=(t,e)=>{for(var o in e||(e={}))Je.call(e,o)&&He(t,o,e[o]);if(Ee)for(var o of Ee(e))Ze.call(e,o)&&He(t,o,e[o]);return t};var Xe=(t,e)=>{var o={};for(var a in t)Je.call(t,a)&&e.indexOf(a)<0&&(o[a]=t[a]);if(t!=null&&Ee)for(var a of Ee(t))e.indexOf(a)<0&&Ze.call(t,a)&&(o[a]=t[a]);return o};import{t as Be,r as u,w as lt,v as Ye,_ as it,J as kt,u as Et,q as H,s as ct,T as pe,o as et,p as tt,bi as Tt,m as Le,a as m,L as wt,n as Ke,j,b as Te,aB as Lt,I as dt,ao as rt,aP as Rt,ad as Ft}from"./index.ec2996a9.js";import"./transform.5b5ae4b7.js";import{q as _t}from"./Legend.6c760add.js";import{d as $t}from"./dataTypes.ad082e33.js";import{a as g}from"./partnerPreviewUtils.81b319ce.js";import{C as At,A as Mt,a as Dt,b as Ot}from"./graphiql.min.35449f36.js";import{F as Kt,C as Vt}from"./FormControlLabel.47f62ae2.js";var Bt=Be(u.exports.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),ut=Be(u.exports.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),nt=Be(u.exports.createElement("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})),jt=u.exports.createContext({}),ft=jt,zt=function(e){return{root:{listStyle:"none",margin:0,padding:0,outline:0,WebkitTapHighlightColor:"transparent","&:focus > $content $label":{backgroundColor:e.palette.action.hover},"&$selected > $content $label":{backgroundColor:Ye(e.palette.primary.main,e.palette.action.selectedOpacity)},"&$selected > $content $label:hover, &$selected:focus > $content $label":{backgroundColor:Ye(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},expanded:{},selected:{},group:{margin:0,padding:0,marginLeft:17},content:{width:"100%",display:"flex",alignItems:"center",cursor:"pointer"},iconContainer:{marginRight:4,width:15,display:"flex",flexShrink:0,justifyContent:"center","& svg":{fontSize:18}},label:{width:"100%",paddingLeft:4,position:"relative","&:hover":{backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}}},Ut=function(e){return e&&e.length===1&&e.match(/\S/)},Wt=u.exports.forwardRef(function(e,o){var a=e.children,i=e.classes,h=e.className,E=e.collapseIcon,M=e.endIcon,T=e.expandIcon,I=e.icon,k=e.label,d=e.nodeId,F=e.onClick,w=e.onLabelClick,z=e.onIconClick,L=e.onFocus,le=e.onKeyDown,ee=e.onMouseDown,he=e.TransitionComponent,D=he===void 0?At:he,te=e.TransitionProps,Re=it(e,["children","classes","className","collapseIcon","endIcon","expandIcon","icon","label","nodeId","onClick","onLabelClick","onIconClick","onFocus","onKeyDown","onMouseDown","TransitionComponent","TransitionProps"]),v=u.exports.useContext(ft),me=v.icons,ie=v.focus,ce=v.focusFirstNode,ve=v.focusLastNode,de=v.focusNextNode,ge=v.focusPreviousNode,N=v.focusByFirstCharacter,O=v.selectNode,S=v.selectRange,Fe=v.selectNextNode,be=v.selectPreviousNode,K=v.rangeSelectToFirst,xe=v.rangeSelectToLast,_e=v.selectAllNodes,Ce=v.expandAllSiblings,P=v.toggleExpansion,U=v.isExpanded,V=v.isFocused,Ne=v.isSelected,Ie=v.isTabbable,_=v.multiSelect,Se=v.getParent,re=v.mapFirstChar,J=v.addNodeToNodeMap,Z=v.removeNodeFromNodeMap,ne=u.exports.useRef(null),Pe=u.exports.useRef(null),W=kt(ne,o),B=I,Q=Boolean(Array.isArray(a)?a.length:a),G=U?U(d):!1,ae=V?V(d):!1,$e=Ie?Ie(d):!1,ue=Ne?Ne(d):!1,oe=me||{},$=Et();B||(Q?(G?B=E||oe.defaultCollapseIcon:B=T||oe.defaultExpandIcon,B||(B=oe.defaultParentIcon)):B=M||oe.defaultEndIcon);var q=function(s){ae||ie(d);var b=_&&(s.shiftKey||s.ctrlKey||s.metaKey);Q&&!s.defaultPrevented&&!(b&&U(d))&&P(s,d),b?s.shiftKey?S(s,{end:d}):O(s,d,!0):O(s,d),F&&F(s)},R=function(s){(s.shiftKey||s.ctrlKey||s.metaKey)&&s.preventDefault(),ee&&ee(s)},ye=function(s){return Q&&(G?de(d):P(s)),!0},ke=function(s){if(G)return P(s,d),!0;var b=Se(d);return b?(ie(b),!0):!1},Ae=function(s){var b=!1,X=s.key;if(!(s.altKey||s.currentTarget!==s.target)){var se=s.ctrlKey||s.metaKey;switch(X){case" ":ne.current===s.currentTarget&&(_&&s.shiftKey?b=S(s,{end:d}):_?b=O(s,d,!0):b=O(s,d)),s.stopPropagation();break;case"Enter":ne.current===s.currentTarget&&Q&&(P(s),b=!0),s.stopPropagation();break;case"ArrowDown":_&&s.shiftKey&&Fe(s,d),de(d),b=!0;break;case"ArrowUp":_&&s.shiftKey&&be(s,d),ge(d),b=!0;break;case"ArrowRight":$.direction==="rtl"?b=ke(s):b=ye(s);break;case"ArrowLeft":$.direction==="rtl"?b=ye(s):b=ke(s);break;case"Home":_&&se&&s.shiftKey&&K(s,d),ce(),b=!0;break;case"End":_&&se&&s.shiftKey&&xe(s,d),ve(),b=!0;break;default:X==="*"?(Ce(s,d),b=!0):_&&se&&X.toLowerCase()==="a"?b=_e(s):!se&&!s.shiftKey&&Ut(X)&&(N(d,X),b=!0)}b&&(s.preventDefault(),s.stopPropagation()),le&&le(s)}},Me=function(s){!ae&&s.currentTarget===s.target&&ie(d),L&&L(s)};u.exports.useEffect(function(){if(J){var y=[];u.exports.Children.forEach(a,function(s){u.exports.isValidElement(s)&&s.props.nodeId&&y.push(s.props.nodeId)}),J(d,y)}},[a,d,J]),u.exports.useEffect(function(){if(Z)return function(){Z(d)}},[d,Z]),u.exports.useEffect(function(){re&&k&&re(d,Pe.current.textContent.substring(0,1).toLowerCase())},[re,d,k]),u.exports.useEffect(function(){ae&&ne.current.focus()},[ae]);var fe;return _?fe=ue:ue&&(fe=!0),u.exports.createElement("li",H({className:ct(i.root,h,G&&i.expanded,ue&&i.selected),role:"treeitem",onKeyDown:Ae,onFocus:Me,"aria-expanded":Q?G:null,"aria-selected":fe,ref:W,tabIndex:$e?0:-1},Re),u.exports.createElement("div",{className:i.content,onClick:q,onMouseDown:R,ref:Pe},u.exports.createElement("div",{onClick:z,className:i.iconContainer},B),u.exports.createElement(pe,{onClick:w,component:"div",className:i.label},k)),a&&u.exports.createElement(D,H({unmountOnExit:!0,className:i.group,in:G,component:"ul",role:"group"},te),a))}),Gt=lt(zt,{name:"MuiTreeItem"})(Wt),qt={root:{padding:0,margin:0,listStyle:"none"}};function Ht(t,e){if(t.length!==e.length)return!0;for(var o=0;o<t.length;o+=1)if(t[o]!==e[o])return!0;return!1}var at=function(e,o,a){for(var i=o;i<e.length;i+=1)if(a===e[i])return i;return-1},Jt=[],Zt=[],Qt=u.exports.forwardRef(function(e,o){var a=e.children,i=e.classes,h=e.className,E=e.defaultCollapseIcon,M=e.defaultEndIcon,T=e.defaultExpanded,I=T===void 0?Jt:T,k=e.defaultExpandIcon,d=e.defaultParentIcon,F=e.defaultSelected,w=F===void 0?Zt:F,z=e.disableSelection,L=z===void 0?!1:z,le=e.multiSelect,ee=le===void 0?!1:le,he=e.expanded,D=e.onNodeSelect,te=e.onNodeToggle,Re=e.selected,v=it(e,["children","classes","className","defaultCollapseIcon","defaultEndIcon","defaultExpanded","defaultExpandIcon","defaultParentIcon","defaultSelected","disableSelection","multiSelect","expanded","onNodeSelect","onNodeToggle","selected"]),me=u.exports.useState(null),ie=me[0],ce=me[1],ve=u.exports.useState(null),de=ve[0],ge=ve[1],N=u.exports.useRef({}),O=u.exports.useRef({}),S=u.exports.useRef([]),Fe=et({controlled:he,default:I,name:"TreeView",state:"expanded"}),be=tt(Fe,2),K=be[0],xe=be[1],_e=et({controlled:Re,default:w,name:"TreeView",state:"selected"}),Ce=tt(_e,2),P=Ce[0],U=Ce[1],V=u.exports.useCallback(function(c){return Array.isArray(K)?K.indexOf(c)!==-1:!1},[K]),Ne=u.exports.useCallback(function(c){return Array.isArray(P)?P.indexOf(c)!==-1:P===c},[P]),Ie=function(n){return ie===n},_=function(n){return de===n},Se=function(n){var r=S.current.indexOf(n);return r!==-1&&r+1<S.current.length?S.current[r+1]:null},re=function(n){var r=S.current.indexOf(n);return r!==-1&&r-1>=0?S.current[r-1]:null},J=function(){return S.current[S.current.length-1]},Z=function(){return S.current[0]},ne=function(n){return N.current[n].parent},Pe=function(n,r){var l=S.current.indexOf(n),f=S.current.indexOf(r),p=Math.min(l,f),x=Math.max(l,f);return S.current.slice(p,x+1)},W=function(n){n&&(ce(n),ge(n))},B=function(n){return W(Se(n))},Q=function(n){return W(re(n))},G=function(){return W(Z())},ae=function(){return W(J())},$e=function(n,r){var l,f,p=r.toLowerCase(),x=[],C=[];Object.keys(O.current).forEach(function(A){var Oe=O.current[A],qe=N.current[A],Pt=qe.parent?V(qe.parent):!0;Pt&&(x.push(A),C.push(Oe))}),l=x.indexOf(n)+1,l===N.current.length&&(l=0),f=at(C,l,p),f===-1&&(f=at(C,0,p)),f>-1&&W(x[f])},ue=function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:de,l;K.indexOf(r)!==-1?(l=K.filter(function(f){return f!==r}),ce(function(f){var p=N.current[f];return f&&(p&&p.parent?p.parent.id:null)===r?r:f})):l=[r].concat(K),te&&te(n,l),xe(l)},oe=function(n,r){var l=N.current[r],f=N.current[l.parent],p;if(f)p=f.children.filter(function(A){return!V(A)});else{var x=N.current[-1].children;p=x.filter(function(A){return!V(A)})}var C=K.concat(p);p.length>0&&(xe(C),te&&te(n,C))},$=u.exports.useRef(null),q=u.exports.useRef(!1),R=u.exports.useRef([]),ye=function(n,r){var l=P,f=r.start,p=r.next,x=r.current;!p||!x||(R.current.indexOf(x)===-1&&(R.current=[]),q.current?R.current.indexOf(p)!==-1?(l=l.filter(function(C){return C===f||C!==x}),R.current=R.current.filter(function(C){return C===f||C!==x})):(l.push(p),R.current.push(p)):(l.push(p),R.current.push(x,p)),D&&D(n,l),U(l))},ke=function(n,r){var l=P,f=r.start,p=r.end;q.current&&(l=P.filter(function(A){return R.current.indexOf(A)===-1}));var x=Pe(f,p);R.current=x;var C=l.concat(x);C=C.filter(function(A,Oe){return C.indexOf(A)===Oe}),D&&D(n,C),U(C)},Ae=function(n,r){var l=[];P.indexOf(r)!==-1?l=P.filter(function(f){return f!==r}):l=[r].concat(P),D&&D(n,l),U(l)},Me=function(n,r){var l=ee?[r]:r;D&&D(n,l),U(l)},fe=function(n,r){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return r?(l?Ae(n,r):Me(n,r),$.current=r,q.current=!1,R.current=[],!0):!1},y=function(n,r){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,f=r.start,p=f===void 0?$.current:f,x=r.end,C=r.current;return l?ye(n,{start:p,next:x,current:C}):ke(n,{start:p,end:x}),q.current=!0,!0},s=function(n,r){$.current||($.current=r);var l=q.current?$.current:r;return y(n,{start:l,end:Z()})},b=function(n,r){$.current||($.current=r);var l=q.current?$.current:r;return y(n,{start:l,end:J()})},X=function(n,r){return y(n,{end:Se(r),current:r},!0)},se=function(n,r){return y(n,{end:re(r),current:r},!0)},xt=function(n){return y(n,{start:Z(),end:J()})},Ct=function(n,r){var l=N.current[n];N.current[n]=H({},l,{children:r,id:n}),r.forEach(function(f){var p=N.current[f];N.current[f]=H({},p,{parent:n,id:f})})},De=u.exports.useCallback(function(c){var n=N.current[c],r=[];return n&&(r.push(c),n.children&&(r.concat(n.children),n.children.forEach(function(l){r.concat(De(l))}))),r},[]),ze=u.exports.useCallback(function(c){var n=H({},O.current);c.forEach(function(r){n[r]&&delete n[r]}),O.current=n},[]),Nt=u.exports.useCallback(function(c){var n=De(c);ze(n);var r=H({},N.current);n.forEach(function(l){var f=r[l];if(f){if(f.parent){var p=r[f.parent];if(p&&p.children){var x=p.children.filter(function(C){return C!==l});r[f.parent]=H({},p,{children:x})}}delete r[l]}}),N.current=r,ge(function(l){return l===c?null:l})},[De,ze]),It=function(n,r){O.current[n]=r},Ue=u.exports.useRef([]),We=u.exports.useState(!1),Ge=We[0],St=We[1];u.exports.useEffect(function(){var c=[];u.exports.Children.forEach(a,function(n){u.exports.isValidElement(n)&&n.props.nodeId&&c.push(n.props.nodeId)}),Ht(Ue.current,c)&&(N.current[-1]={parent:null,children:c},c.forEach(function(n,r){r===0&&ce(n)}),S.current=N.current[-1].children,Ue.current=c,St(!0))},[a]),u.exports.useEffect(function(){var c=function n(r){for(var l=[],f=0;f<r.length;f+=1){var p=r[f];l.push(p);var x=N.current[p].children;V(p)&&x&&(l=l.concat(n(x)))}return l};Ge&&(S.current=c(N.current[-1].children))},[K,Ge,V,a]);var Y=function(){return!1};return u.exports.createElement(ft.Provider,{value:{icons:{defaultCollapseIcon:E,defaultExpandIcon:k,defaultParentIcon:d,defaultEndIcon:M},focus:W,focusFirstNode:G,focusLastNode:ae,focusNextNode:B,focusPreviousNode:Q,focusByFirstCharacter:$e,expandAllSiblings:oe,toggleExpansion:ue,isExpanded:V,isFocused:_,isSelected:Ne,selectNode:L?Y:fe,selectRange:L?Y:y,selectNextNode:L?Y:X,selectPreviousNode:L?Y:se,rangeSelectToFirst:L?Y:s,rangeSelectToLast:L?Y:b,selectAllNodes:L?Y:xt,isTabbable:Ie,multiSelect:ee,getParent:ne,mapFirstChar:It,addNodeToNodeMap:Ct,removeNodeFromNodeMap:Nt}},u.exports.createElement("ul",H({role:"tree","aria-multiselectable":ee,className:ct(i.root,h),ref:o},v),a))}),Xt=lt(qt,{name:"MuiTreeView"})(Qt);const Yt=_t().domain([0,1]).range(Tt),er=Le({root:{display:"block",height:"20px",border:"1px solid #eeefef"}});function Nr({score:t,ensemblId:e,efoId:o}){const a=er();return m(wt,{to:`/evidence/${e}/${o}`,children:m("span",{className:a.root,title:t?`Score: ${t.toFixed(2)}`:"No data",style:{backgroundColor:Yt(t)}})})}const tr=[{id:"ot_genetics_portal",label:"OT Genetics Portal",isPrivate:g("ot_genetics_portal")},{id:"phewas_catalog",label:"PheWAS Catalog",isPrivate:g("phewas_catalog")},{id:"eva",label:"ClinVar",isPrivate:g("eva")},{id:"uniprot",label:"UniProt curated variants",isPrivate:g("uniprot")},{id:"genomics_england",label:"GEL PanelApp",isPrivate:g("genomics_england")},{id:"gene2phenotype",label:"Gene2phenotype",isPrivate:g("gene2phenotype")},{id:"uniprot_literature",label:"UniProt literature",isPrivate:g("uniprot_literature")},{id:"clingen",label:"Clingen",isPrivate:g("clingen")},{id:"cancer_gene_census",label:"Cancer Gene Census",isPrivate:g("cancer_gene_census")},{id:"intogen",label:"IntOGen",isPrivate:g("intogen")},{id:"eva_somatic",label:"ClinVar (somatic)",isPrivate:g("eva_somatic")},{id:"uniprot_somatic",label:"UniProt (somatic)",isPrivate:g("uniprot_somatic")},{id:"chembl",label:"ChEMBL",isPrivate:g("chembl")},{id:"crispr",label:"Project Score",isPrivate:g("crispr")},{id:"slapenrich",label:"SLAPenrich",isPrivate:g("slapenrich")},{id:"progeny",label:"PROGENy",isPrivate:g("progeny")},{id:"reactome",label:"Reactome",isPrivate:g("reactome")},{id:"sysbio",label:"Gene signatures",isPrivate:g("sysbio")},{id:"europepmc",label:"Europe PMC",isPrivate:g("europepmc")},{id:"expression_atlas",label:"Expression Atlas",isPrivate:g("expression_atlas")},{id:"phenodigm",label:"PhenoDigm",isPrivate:g("phenodigm")},{id:"uniprot_variants",label:"UniProt curated variants",isPrivate:g("uniprot_variants")},{id:"orphanet",label:"Orphanet",isPrivate:g("orphanet")},{id:"ot_crispr",label:"OTAR CRISPR",isPrivate:g("ot_crispr")},{id:"ot_crispr_validation",label:"OT CRISPR Validation",isPrivate:g("ot_crispr_validation")},{id:"encore",label:"ENCORE",isPrivate:g("encore")},{id:"cancer_biomarkers",label:"Cancer Biomarkers",isPrivate:g("cancer_biomarkers")}],we=[...$t,...tr],rr=t=>{var o;const e=(o=we.find(a=>a.id===t))==null?void 0:o.label;if(e)return e;if(t==="tractabilityProtac")return"Tractability PROTAC";if(/^[a-z]/.test(t)){const a=t.replace(/([a-z])([A-Z])/g,"$1 $2");return`${a[0].toUpperCase()}${a.slice(1)}`}return t},nr=t=>{var e;return((e=we.find(o=>o.id===t))==null?void 0:e.isPrivate)||!1},ar=t=>(Ke.profile.hideDataTypes.length===0||!Ke.profile.hideDataTypes.includes(t.nodeId))&&(!t.isPrivate||t.isPrivate&&Ke.profile.isPartnerPreview),or=(t,e)=>{const o=we.findIndex(i=>i.id===t.nodeId),a=we.findIndex(i=>i.id===e.nodeId);return o!==-1&&a!==-1?o-a:t.nodeId.localeCompare(e.nodeId)},pt=t=>t==null?void 0:t.map(e=>({nodeId:e.key||e.name,label:rr(e.key||e.name),count:e.uniques,checked:!1,aggs:pt(e.aggs||e.rows),root:!!e.name,isPrivate:nr(e.key||e.name)})).filter(ar).sort(or),sr=t=>pt(t)||[],ht=(t,e=[])=>(t.forEach(o=>{const a=e.find(h=>o.nodeId===(h.key||h.name)),i=(a==null?void 0:a.uniques)||0;o.count=i,o.aggs&&ht(o.aggs,(a==null?void 0:a.aggs)||(a==null?void 0:a.rows))}),t),lr=(t,e)=>ht([...t],e),mt=(t,e,o)=>{const a=e.shift(),i=t.find(h=>h.nodeId===a);return e.length===0?[i,o]:mt(i.aggs,e,i)},Ve=(t,e)=>{var o;return(o=t==null?void 0:t.aggs)==null?void 0:o.forEach(a=>{a.checked=e,Ve(a,e)})},vt=t=>{var e;return(e=t.aggs)==null?void 0:e.every(o=>o.checked)},ir=t=>{var e;return((e=t.aggs)==null?void 0:e.some(o=>o.checked))&&!vt(t)},je=t=>t==null?void 0:t.some(e=>e.checked||je(e.aggs)),gt=(t,e=[],o=[])=>(t.forEach(a=>{const i=[...e,a.nodeId];a.checked?o.push(i):a.aggs&&gt(a.aggs,i,o)}),o),ot=t=>gt(t).map(e=>{const[o,...a]=e;return{name:o,path:a}}),cr=Le(t=>({countLabel:{fontSize:".7rem",fontWeight:"bold",color:t.palette.grey[500]},formControlLabelRoot:{minWidth:"85%"},FormControlLabelLabel:{fontSize:".9rem",display:"flex",maxWidth:"100%",paddingRight:"15%"},treeItemRoot:{"&:focus > $treeItemContent $treeItemLabel":{backgroundColor:"transparent"},"&$treeItemSelected > $treeItemContent $treeItemLabel":{backgroundColor:"transparent"},"&$treeItemSelected:focus > $treeItemContent $treeItemLabel":{backgroundColor:"transparent"},"&$treeItemSelected > $treeItemContent $treeItemLabel:hover":{backgroundColor:"transparent"}},treeItemContent:{"&:hover":{backgroundColor:t.palette.grey[200]}},treeItemSelected:{},treeItemLabel:{alignItems:"center",display:"flex",justifyContent:"space-between",width:"91%","&:hover":{backgroundColor:"transparent"}},treeItemLabelText:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},treeItemLabelIcon:{marginLeft:"0.5em"}}));function dr(I){var k=I,{loading:t,nodeId:e,label:o,count:a,checked:i,indeterminate:h,onClick:E,isPrivate:M}=k,T=Xe(k,["loading","nodeId","label","count","checked","indeterminate","onClick","isPrivate"]);const d=cr(),F=w=>{w.preventDefault(),!t&&a&&E([e])};return m(Gt,Qe({classes:{root:d.treeItemRoot,content:d.treeItemContent,label:d.treeItemLabel,selected:d.treeItemSelected},label:j(Te,{children:[m(Kt,{classes:{root:d.formControlLabelRoot,label:d.FormControlLabelLabel},control:m(Vt,{disabled:t||!a,color:"primary",checked:i,indeterminate:h}),label:j(Te,{children:[m("span",{title:o,className:d.treeItemLabelText,children:o}),M&&m("span",{className:d.treeItemLabelIcon,children:m(Lt,{})})]})}),m(pe,{className:d.countLabel,children:a})]}),nodeId:e,onLabelClick:F},T))}function bt({loading:t,levelId:e,aggs:o,onSelectionChange:a}){const i=h=>{a([e,...h])};return o.map(h=>m(dr,{loading:t,nodeId:h.nodeId,label:h.label,count:h.count,checked:h.checked,indeterminate:ir(h),onClick:i,isPrivate:h.isPrivate,children:h.aggs&&h.aggs.length>0&&m(bt,{loading:t,levelId:h.nodeId,aggs:h.aggs,onSelectionChange:i})},h.nodeId))}const ur=Le({accordionSummaryContent:{alignItems:"center",justifyContent:"space-between",margin:0},clearButtonRoot:{height:"unset"},facetRoot:{width:"100%"}});function st({loading:t,treeId:e,label:o,aggs:a,onSelectionChange:i}){const h=ur(),E=T=>{i(T)},M=T=>{T.stopPropagation(),i([e],!1)};return j(Mt,{children:[j(Dt,{classes:{content:h.accordionSummaryContent},expandIcon:m(nt,{}),children:[m(pe,{children:o}),je(a)&&m(dt,{className:h.clearButtonRoot,disabled:t,onClick:M,children:m(ut,{})})]}),m(Ot,{children:m(Xt,{className:h.facetRoot,defaultCollapseIcon:m(nt,{}),defaultExpandIcon:m(Bt,{}),children:m(bt,{loading:t,levelId:e,aggs:a,onSelectionChange:E})})})]})}const fr=Le({facetSummary:{alignItems:"center",display:"flex",justifyContent:"space-between"},loadingContainer:{alignItems:"center",display:"flex","& > div":{marginRight:".5rem"}},subtitle1:{marginBottom:"1rem",fontWeight:"bold"},subtitle2:{marginTop:"1rem",marginBottom:"1rem",fontWeight:"bold"}});function Ir({loading:t,data:e,onChange:o,type:a}){const[i,h]=u.exports.useState([]),E=fr();u.exports.useEffect(()=>{!e||(i.length?h(I=>lr(I,e)):h(sr(e)))},[e,i.length]);const M=(I,k)=>{const d=[...i],[F,w]=mt(d,I),z=k!=null?k:!F.checked;F.checked=z,!z&&w&&(w.checked=!1),w&&!w.root&&vt(w)&&(w.checked=!0),Ve(F,z);const L=ot(d);o(L)},T=()=>{const I=[...i];I.forEach(d=>{Ve(d,!1)});const k=ot(I);o(k)};return j(Te,{children:[j(rt,{className:E.facetSummary,children:[m("h3",{children:"Filter by"}),t&&i.length>0&&j(rt,{className:E.loadingContainer,children:[m(Rt,{size:24})," Updating facets..."]}),je(i)&&m(dt,{disabled:t,onClick:T,children:m(ut,{})})]}),t&&i.length===0&&m(Ft,{variant:"rect",height:48}),i.length>0&&j(Te,{children:[m(pe,{className:E.subtitle1,children:"Evidence-specific filters"}),m(st,{loading:t,treeId:i[0].nodeId,label:i[0].label,aggs:i[0].aggs,onSelectionChange:M,isPrivate:i[0].isPrivate},i[0].nodeId),j(pe,{className:E.subtitle2,children:[a==="target"?"Target":"Disease/phenotype","-specific filters"]}),i.slice(1).map(I=>m(st,{loading:t,treeId:I.nodeId,label:I.label,aggs:I.aggs,onSelectionChange:M,isPrivate:I.isPrivate},I.nodeId))]})]})}export{Nr as A,Ir as F};
